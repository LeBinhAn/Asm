if (self.CavalryLogger) { CavalryLogger.start_js(["Yl9Iq"]); }

__d("ProfileCometActionMessageHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"SplitOperation",metadata:{derivedFrom:"ProfileCometActionMessageHandler_handler"},name:"ProfileCometActionMessageHandler_handler$normalization",selections:[{kind:"LinkedField",alias:null,name:"profile_action",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"message_box_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_redirect_message_to_page_inbox",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"gender",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"contextual_message_request_state",args:null,storageKey:null},a]},{kind:"ScalarField",alias:null,name:"uri",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'uri(site:"www")'},a]}]}}();e.exports=a}),null);
__d("ProfileCometActionMessageHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ProfileCometActionMessageHandler_handler",type:"ProfileActionMessageHandler",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"profile_action",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"profile_owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"message_box_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_redirect_message_to_page_inbox",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"gender",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"contextual_message_request_state",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"uri",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'uri(site:"www")'}]}]};e.exports=a}),null);
__d("ProfileCometActionMessageHandler.react",["CometRelay","GraphQLGender","GroupsCometHealthContextualProfileMessagingDialogContent","MWChatOpenTabForPage.re","MWChatOpenTabForUser.re","React","recoverableViolation","useCometConfirmationDialog","useCometRouterDispatcher","useCurrentRoute","ProfileCometActionMessageHandler_handler.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment;b("React");c=b("React");var i=c.useCallback;function a(a){var c=h(g!==void 0?g:g=b("ProfileCometActionMessageHandler_handler.graphql"),a.handler),d=b("useCurrentRoute")(),e=b("useCometRouterDispatcher")(),f=a.source==="WWW_COMET_HOVERCARD"?"hovercard":"timeline",j=b("MWChatOpenTabForUser.re").useHook(f),k=b("MWChatOpenTabForPage.re").useHook(f);f=b("useCometConfirmationDialog")();var l=f[0];f=a.children;var m=(a=c.profile_action)==null?void 0:a.profile_owner,n=(a=m==null?void 0:m.message_box_id)!=null?a:"",o=(m==null?void 0:m.should_redirect_message_to_page_inbox)||!1,p=(c=(a=c.profile_action)==null?void 0:a.uri)!=null?c:"",q=i(function(){if(!d||d.hideChat!==!0){o?k(n):j(n);return}if(!e||!p){b("recoverableViolation")("Failed to open messenger thread for user "+n+": missing dispatcher or URI","profile_comet");return}e.go(p,{})},[d,e,n,k,j,o,p]);a=i(function(){var a;return(m==null?void 0:m.contextual_message_request_state)==="SHOULD_SEND_REQUEST"?l({body:b("GroupsCometHealthContextualProfileMessagingDialogContent").getSenderDisclaimer((a=m==null?void 0:m.short_name)!=null?a:"",new(b("GraphQLGender"))(m==null?void 0:m.gender).toGenderConstEnum()),title:b("GroupsCometHealthContextualProfileMessagingDialogContent").warningTitle},q):q()},[m,l,q]);return f({onPress:a})}e.exports=a}),null);