if (self.CavalryLogger) { CavalryLogger.start_js(["11ycT"]); }

__d("CometAlbumGridLayoutChild_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometAlbumGridLayoutChild_photo",type:"Photo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"FragmentSpread",name:"useCometPhotoViewerPlaceholderPassthroughProps_photo",args:null},{kind:"FragmentSpread",name:"CometFeedAlbumGridWarningScreen_media",args:null}]};e.exports=a}),null);
__d("CometAlbumGridLayoutChild_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometAlbumGridLayoutChild_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cix_screen",storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"timeline")',args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"timeline"}],concreteType:"CIXScreen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"view_model",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"CometWarningScreenOverlay_data",args:null}]}]},{kind:"FragmentSpread",name:"VideoPlayerRelay_video",args:null},{kind:"FragmentSpread",name:"CometFeedAlbumGridWarningScreen_media",args:null}]};e.exports=a}),null);
__d("CometFeedAlbumGridWarningScreen_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"timeline"}];return{kind:"Fragment",name:"CometFeedAlbumGridWarningScreen_media",type:"Media",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"LinkedField",alias:"viewer_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Video",selections:[{kind:"LinkedField",alias:"video_cix_screen",name:"cix_screen",storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"timeline")',args:a,concreteType:"CIXScreen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"view_model",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"OverlayWarningScreenViewModel",selections:[{kind:"ModuleImport",documentName:"CometFeedAlbumGridWarningScreen_media__video_cix_screen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data"}]}]}]}]},{kind:"InlineFragment",type:"Photo",selections:[{kind:"LinkedField",alias:"photo_cix_screen",name:"cix_screen",storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"timeline")',args:a,concreteType:"CIXScreen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"view_model",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"OverlayWarningScreenViewModel",selections:[{kind:"ModuleImport",documentName:"CometFeedAlbumGridWarningScreen_media__photo_cix_screen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data"}]}]}]}]}]}}();e.exports=a}),null);
__d("CometFeedAlbumGridWarningScreen.react",["CometRelay","React","CometFeedAlbumGridWarningScreen_media.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").MatchContainer;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React");function a(a){var c,d=i(g!==void 0?g:g=b("CometFeedAlbumGridWarningScreen_media.graphql"),a.media),e=(d==null?void 0:d.photo_cix_screen)!=null?d==null?void 0:d.photo_cix_screen:d==null?void 0:d.video_cix_screen;e=e==null?void 0:e.view_model;if((d==null?void 0:(c=d.viewer_image)==null?void 0:c.uri)==null)return null;else return j.jsx(h,{match:e,props:{alwaysShowCoverComponent:!0,alwaysShowDetails:!1,alwaysUseSmallLayout:!0,contentID:a.contentID,data:e,mediaUri:d==null?void 0:d.viewer_image.uri,storyID:a.storyID,url:a.mediaUrl}})}e.exports=a}),null);
__d("CometAlbumGridLayout.react",["fbt","CometFeedAlbumGridWarningScreen.react","CometFeedFocusImage.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometRelay","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometTrackingNodesContext","React","ReactComposerCollageLayoutSelection","VideoPlayerDefaultControls.react","VideoPlayerInteractionOverlay.react","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerRelay.react","VideoPlayerSurface.react","getAggregatedStoryTrackingNodeIndex","stylex","useCometPhotoViewerPlaceholderPassthroughProps","CometAlbumGridLayoutChild_photo.graphql","CometAlbumGridLayoutChild_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("CometProductTagLoggingUtils").logProductTagPostClick;b("CometRelay").graphql;var l=b("CometRelay").useFragment,m=b("React");c=b("React");var n=c.useContext,o=c.useLayoutEffect,p=c.useState,q=b("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,r=b("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo,s={grid:{position:"l9j0dhe7"},gridCell:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg"},imageButton:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",":active":{transform:"tm8avpzi"}},mediaPressed:{backgroundColor:"r9n4d945"},overlay:{alignItems:"bp9cbjyn",backgroundColor:"sx5rzos5",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},overlayText:{color:"qrtewk5h",fontSize:"mhxlubs3",fontWeight:"lrazzd5p",textAlign:"oqcyycmt"},root:{position:"l9j0dhe7"}},t=2;function a(a){var c=a.adID,d=a.attachments,e=a.hasProductTags,f=a.initialTracePolicy,g=a.numItemsNotShown,h=a.subOrigin,i=a.urls;a=d.reduce(function(a,b,c){a.set(c,[b.width,b.height]);return a},new Map());a=b("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(a);var k=Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return{attachment:d[b],columnSpan:a.getWidth(),columnStart:a.getLeft(),rowSpan:a.getHeight(),rowStart:a.getTop()}}),l=k.reduce(function(a,b){return Math.max(a,b.columnStart+b.columnSpan)},0),n=k.reduce(function(a,b){return Math.max(a,b.rowStart+b.rowSpan)},0);return m.jsx("div",{className:(j||(j=b("stylex")))(s.root),"data-testid":void 0,children:m.jsx("div",{className:j(s.grid),style:{paddingTop:"calc("+n*100+"% / "+l+")"},children:m.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:110,children:k.map(function(a,b){return m.jsx(v,{adID:c,cell:a,gridCellLength:k.length,hasProductTags:e,i:b,initialTracePolicy:f,numColumns:l,numItemsNotShown:g,numRows:n,subOrigin:h,urls:i},(b=a.attachment)==null?void 0:b.id)})})})})}function u(a){var c=a.setPortableVideoID;a=r();var d=a.currentVideoID;o(function(){c(d)},[d,c]);return m.jsxs(b("VideoPlayerSurface.react"),{children:[m.jsx(q,{}),m.jsx(b("VideoPlayerDefaultControls.react"),{})]})}function v(a){var c,d,e,f,o=a.adID,q=a.cell,r=a.gridCellLength,v=a.hasProductTags,w=a.i,x=a.initialTracePolicy,y=a.numColumns,z=a.numItemsNotShown,A=a.numRows,B=a.subOrigin;a=a.urls;var C=n(b("CometTrackingCodeContext")),D=n(b("CometTrackingNodesContext")),E=n(b("CometFeedUnitQueryVariablesContext")),F=n(b("CometProductTagFunnelIDContext"));D=b("getAggregatedStoryTrackingNodeIndex")(D);c=l(h!==void 0?h:h=b("CometAlbumGridLayoutChild_photo.graphql"),(c=q.attachment)==null?void 0:c.photo);d=l(i!==void 0?i:i=b("CometAlbumGridLayoutChild_video.graphql"),(d=q.attachment)==null?void 0:d.video);e=b("useCometPhotoViewerPlaceholderPassthroughProps")({photo:c,placeholderImageSrc:(e=q.attachment)==null?void 0:e.uri});var G=p(null),H=G[0];G=G[1];var I=q.attachment;if(I==null)return null;var J=I.accessibilityCaption,K=I.focusX,L=I.focusY,M=I.height,N=I.id,O=I.uri,P=I.url;I=I.width;J=(J=J)!=null?J:g._("H\u00ecnh \u1ea3nh trong album");var Q=c!=null?c==null?void 0:c.id:d==null?void 0:d.id;c=c!=null?c:d;f=(d==null?void 0:(f=d.cix_screen)==null?void 0:f.view_model)==null;K=d!=null?m.jsx(b("VideoPlayerRelay.react"),{autoplayComponentEnabled_DEPRECATED:f,portalingEnabled:!0,subOrigin:(f=B)!=null?f:"media_collage",video:d,children:m.jsx(u,{setPortableVideoID:G})}):m.jsx(b("CometFeedFocusImage.react"),{focusX:(f=K)!=null?f:.5,focusY:(G=L)!=null?G:.5,imageHeight:M,imageWidth:I,src:O,viewportAspectRatio:q.columnSpan/q.rowSpan});f=q.columnSpan;L=q.columnStart;G=q.rowSpan;M=q.rowStart;I=z>0&&w===r-1;O=t/2+.01;q=function(){v===!0&&Q!=null&&k(o,"CometAlbumGridLayout",F,"newsfeed",Q,"product_tag_on_newsfeed_"+Q)};return m.jsxs("div",{className:(j||(j=b("stylex")))(s.gridCell),"data-testid":void 0,style:{bottom:"calc(("+(A-(M+G))*100+"% / "+A+") + "+(M+G<A?O:0)+"px)",left:"calc(("+L*100+"% / "+y+") + "+(L>0?O:0)+"px)",right:"calc(("+(y-(L+f))*100+"% / "+y+") + "+(L+f<y?O:0)+"px)",top:"calc(("+M*100+"% / "+A+") + "+(M>0?O:0)+"px)"},children:[m.jsxs(b("CometPressable.react"),{"aria-label":d!=null?g._("Video trong album"):J,display:"block",hideHoverOverlay:!0,linkProps:{passthroughProps:babelHelpers["extends"]({index:D,initialTracePolicy:x,portableVideoID:H,productTagFunnelID:F,storyRenderLocation:E==null?void 0:E.renderLocation,subOrigin:B,trackingCode:C},e),rel:"theater",url:a?w<a.length?a[w]:P:P},onPress:q,overlayPressedStyle:s.mediaPressed,xstyle:s.imageButton,children:[K,I?m.jsx("div",{className:(j||(j=b("stylex")))(s.overlay),children:m.jsx("div",{className:(j||(j=b("stylex")))(s.overlayText),children:g._("+{num}",[g._param("num",z)])})}):null]}),c&&Q!=null&&m.jsx(b("CometFeedAlbumGridWarningScreen.react"),{media:c,mediaUrl:P,storyID:Q})]},N)}e.exports=a}),null);