if (self.CavalryLogger) { CavalryLogger.start_js(["B41Bh"]); }

__d("ProfileCometHeaderActionBarMoreMenu_actorWithActionBar.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ProfileCometHeaderActionBarMoreMenu_actorWithActionBar",type:"ActorWithActionBar",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"render_location",type:"ProfileActionBarRenderLocation!",defaultValue:"WWW_COMET_PROFILE"},{kind:"LocalArgument",name:"entityID",type:"ID",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"profile_actions",storageKey:null,args:[{kind:"Variable",name:"associated_entity_id",variableName:"entityID"},{kind:"Variable",name:"render_location",variableName:"render_location"}],concreteType:null,plural:!0,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_secondary_only",args:null,storageKey:null},{kind:"FragmentSpread",name:"ProfileCometHeaderActionBarMenuItem_profileAction",args:null}]}]};e.exports=a}),null);
__d("CometScrollTo.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");d=b("React");var h=d.useEffect,i=d.useRef;function c(b){var c=b.children,d=b.enabled,e=b.offset,f=e===void 0?0:e,j=b.scrollKey,k=i(null),l=i(null);h(function(){var b=l.current;l.current=j;if(j!=null&&j===b)return;if(d&&k.current!=null){b=k.current.offsetTop;a.scrollTo(a.pageXOffset,b+f)}},[d,j,f]);return g.jsx("div",{ref:k,children:c})}e.exports=c}),null);
__d("ProfileCometHeaderActionBarMoreMenu.react",["CometMenu.react","CometRelay","ProfileCometHeaderActionBarMenuItem.react","React","recoverableViolation","ProfileCometHeaderActionBarMoreMenu_actorWithActionBar.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c=a.actor;a=a.onClose;c=h(g!==void 0?g:g=b("ProfileCometHeaderActionBarMoreMenu_actorWithActionBar.graphql"),c);if(!c||!c.profile_actions){b("recoverableViolation")("Rendering more menu with no actions","profile_comet");return null}var d=c.profile_actions.findIndex(function(a){return a.is_secondary_only});d=Math.min(d===-1?Infinity:d,3);if(d>=c.profile_actions.length){b("recoverableViolation")("Rendering more menu with no actions","profile_comet");return null}c=c.profile_actions.slice(d).filter(function(a){return a!=null});return i.jsx(b("CometMenu.react"),{onClose:a,withArrow:!0,children:c.map(function(a){return i.jsx(b("ProfileCometHeaderActionBarMenuItem.react"),{action:a},a==null?void 0:a.id)})})}e.exports=a}),null);
__d("ProfileCometCoverPhotoRepositioner.react",["ix","CometRelay","ProfileCometContext","ProfileCometCoverPhotoEditContext","ProfileCometCoverPhotoEditStrings","ProfileCometCoverPhotoUpdateMutation","React","TetraIcon.react","TetraishEntityHeaderCoverActionBar.react","TetraishEntityHeaderCoverMedia.react","TetraText.react","fbicon","logCometFunnelEvent","stylex","useCodedErrorDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CometRelay").useRelayEnvironment,i=b("ProfileCometCoverPhotoUpdateMutation").updateCoverPhoto,j=b("React");c=b("React");var k=c.useCallback,l=c.useContext,m=c.useRef,n=c.useState,o=b("logCometFunnelEvent").logCometFunnelEvent,p=b("logCometFunnelEvent").useLogCometFunnelImpressionEvent;function a(){var a;p("ProfileCometTimelineWebFunnelDefinition","[impression][cover photo][reposition]");var c=h(),d=l(b("ProfileCometCoverPhotoEditContext")),e=d.dispatch;d=d.state;var f=d.coverPhoto;d=l(b("ProfileCometContext"));var q=d.profileID;d=b("useCodedErrorDialog")(b("ProfileCometCoverPhotoEditStrings").SAVE_FAILED);var r=d[0];d=n(!1);var s=d[0],t=d[1];d=n({x:(d=f==null?void 0:f.focusX)!=null?d:.5,y:(d=f==null?void 0:f.focusY)!=null?d:.5});var u=d[0],v=d[1],w=m({x:(d=f==null?void 0:f.focusX)!=null?d:.5,y:(d=f==null?void 0:f.focusY)!=null?d:.5});d=k(function(a,b){w.current.x=a,w.current.y=b},[]);var x=k(function(){o("ProfileCometTimelineWebFunnelDefinition","[action][cover photo][reposition cancel]"),e({type:"REPOSITION_CANCEL"})},[e]),y=k(function(){var a;v(babelHelpers["extends"]({},w.current));t(!0);i(c,{focusX:w.current.x,focusY:w.current.y,photoID:(a=f==null?void 0:f.id)!=null?a:"",profileID:q},{onCompleted:function(){o("ProfileCometTimelineWebFunnelDefinition","[action][cover photo][save success]"),e({type:"REPOSITION_CANCEL"})},onError:function(a){o("ProfileCometTimelineWebFunnelDefinition","[action][cover photo][save error]",{error:a.description}),r(a),e({type:"REPOSITION_CANCEL"})}})},[f,e,c,q,r]);return j.jsx(b("TetraishEntityHeaderCoverMedia.react"),{backgroundMedia:{focusX:u.x,focusY:u.y,height:(a=f==null?void 0:f.height)!=null?a:0,uri:(a=f==null?void 0:f.blurredURI)!=null?a:"",width:(a=f==null?void 0:f.width)!=null?a:0},coverActionBar:j.jsx(b("TetraishEntityHeaderCoverActionBar.react"),{confirmLabel:b("ProfileCometCoverPhotoEditStrings").REPOSITION_SAVE,description:j.jsxs("div",{className:"j83agx80 bp9cbjyn",children:[j.jsx("div",{className:"tvfksri0 j83agx80",children:j.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("560120"),20)})}),j.jsx(b("TetraText.react"),{color:"white",type:"headline4",children:b("ProfileCometCoverPhotoEditStrings").PRIVACY_DISCLAIMER})]}),disabled:s,onCancel:x,onConfirm:y}),coverMedia:{focusX:u.x,focusY:u.y,height:(a=f==null?void 0:f.height)!=null?a:0,mediaSource:(x=f==null?void 0:f.uri)!=null?x:"",width:(y=f==null?void 0:f.width)!=null?y:0},isDraggable:!s,onDrag:d,roundCorners:"bottom"})}e.exports=a}),null);